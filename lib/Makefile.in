# Makefile -- makefile for xacc/lib
# Copyright (C) 1997 Robin Clark                                   
# Copyright (C) 1998 Rob Browning <rlb@cs.utexas.edu>
#                                                                  
# This program is free software; you can redistribute it and/or    
# modify it under the terms of the GNU General Public License as   
# published by the Free Software Foundation; either version 2 of   
# the License, or (at your option) any later version.              
#                                                                  
# This program is distributed in the hope that it will be useful,  
# but WITHOUT ANY WARRANTY; without even the implied warranty of   
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the    
# GNU General Public License for more details.                     
#                                                                  
# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the Free Software      
# Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.        
#                                                                  
#   Author: Robin Clark                                            
# Internet: rclark@rush.aero.org                                   
#  Address: 609 8th Street                                         
#           Huntington Beach, CA 92648-4632                        

include @top_srcdir@/Makefile.init

######################################################################
# Description of targets:
#
#   default      -- make the application
#   clean        -- remove *.a, *.o, *.bak, and *~
#   distclean    -- get rid of config files too...
#   install      -- ??todo??
#

GTKSHEET_DIR := @GTKSHEET_DIR@

######################################################################
# See Makefile.common for information about these variables.
CLEAN_SUBDIRS := XmHTML-1.1.0 ComboBox-1.33 Xbae-4.6.2-linas g-wrap
CLEAN_SUBDIRS += ${GTKSHEET_DIR} gtkfilesel2
######################################################################

all:
	@echo " "
	@echo "Please choose one of the following targets:"
	@echo "motif           motif version"
	@echo "gnome           gnome/gtk version"
	@echo "qt              kde/qt version"
	@echo " "

# This inclusion must come after the first target, and after the
# definitions of *_SRCS, etc., but before the usage of *_OBJS.
include @top_srcdir@/Makefile.common

g-wrap-install:
	(cd g-wrap && make)
	(cd g-wrap && make install)
TRASH += g-wrap-install

# this make dist is a quick hack to avoid build problems that
# # naive builders are suffering from.  Doing a 'make dist' makes
# build problems go away.
dist:
        touch g-wrap/aclocal.m4
        touch g-wrap/configure.in
        touch g-wrap/Makefile.in
        touch g-wrap/doc/Makefile.in
        touch g-wrap/configure
        touch g-wrap/conf-h.in
        touch g-wrap/stamp-h.in
        chmod +x g-wrap/missing


motif:	g-wrap-install
	@cd ComboBox-1.33;    $(MAKE) default
	@cd Xbae-4.6.2-linas; $(MAKE) default

gnome:	g-wrap-install
	@cd ${GTKSHEET_DIR};  $(MAKE) default
	@cd gtkfilesel2;      $(MAKE) default

qt:	g-wrap-install


.PHONY: gnome motif qt g-wrap-install dist

# Local Variables:
# tab-width: 2
# End:
