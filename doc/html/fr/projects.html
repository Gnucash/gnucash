<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
  <head>
    <meta name="generator" content="HTML Tidy, see www.w3.org">
    <link rel="stylesheet" title="normal" type="text/css" href="gnucash.css">
    <title>GnuCash Project Goals</title>
    <meta name="description" content=
    "The Linux GnuCash project aims at creating a world-class personal finance package. Goals include ease-of use, double entry, OFX support, charts, and reports, and multi-user support.">
    <meta name="keywords" content=
    "linux, OFX, accounting, finance, financial, ledger, double entry, GPL, gnu">
  </head>

  <body bgcolor="#eeeeee" fgcolor="#000000">
    <h1>GnuCash Project Goals</h1>

    <p>The people behind <a href="http://gnucash.org">GnuCash</a>
    aim to create a world-class GPL'ed Open Source Personal
    Financial Application for GNU/Linux and other Unix's. This page
    reviews some of the technical issues and development status
    surrounding this project. It is a kind of an <b>FAQ</b> for
    developers and contributors, providing status, and suggesting
    directions and technologies for deploying new features. If you
    simply want to get a better idea of what <a href=
    "http://gnucash.org">GnuCash</a> is and what it does, visit its
    <a href="http://gnucash.org">home page</a>. The home page
    contains screen shots, news items, and mailing list
    archives.</p>

    <p>There are currently several different versions of GnuCash.
    We've adopted the kernel numbering scheme: even minor relase
    numbers (1.2.x, 1.4.x) are considered to mark stable releases,
    while odd numbers (1.3.x) mark development releases.</p>

    <ul>
      <li>The current stable, production release is gnucash-1.2.5
      and is based on the Open Group's Motif GUI library. Note,
      however, that the Motif version is no longer being
      maintained, and all development efforts have switched over to
      the Gnome/GTK version.<br>
      <br>
      </li>

      <li>The 1.3.x releases focus on the the <a href=
      "http://www.gnome.org">Gnome</a> / <a href=
      "http://www.gtk.org">GTK</a> version. This version adds many
      new features that are absent in the Motif version.
      Development is progressing well, and the 1.3.x series are as
      usable as the 1.2.5 version.<br>
      <br>
      </li>

      <li>Note that some more experimental versions, such as one
      using the <a href="http://www.troll.no/products/qt.html">Qt
      library from Troll Tech</a> for the for the <a href=
      "http://www.kde.org/">KDE desktop</a>, for the Palm Computing
      platforms, as well as a Java-based version have been
      discussed and/or started. Source code for these, such as
      there may be, is in the CVS tree.</li>
    </ul>

    <p>The latest Gnome version, and latest versions in general,
    are currently available only via CVS. Occasionally, some of the
    more stable CVS versions are given a version number, and
    packaged as a precompiled deb or rpm install package. Naive or
    begining users should probably stick to version gnucash-1.2.5:
    although this version is quite old and lacking in many
    features, it is known to work. More adventurous users can try
    one of the 1.3.x releases: these days, they are pretty stable,
    and work pretty well. However, we cannot gaurentee that they
    are flawless. We've tried to make sure that no matter how
    broken these get, they won't mangle your data, but we can't
    make promises.</p>

    <p>This document is divided into several sections.</p>

    <ol>
      <li><a href="#arch">Architectural Goals</a></li>

      <li><a href="#reqs">Requirements</a></li>

      <li><a href="#size">Sizings</a></li>

      <li><a href="#feats">Features</a></li>
    </ol>
    <hr>
    <!--===================================================--><a
    name="arch"></a> 

    <h1>Architectural Goals</h1>
    There are some over-reaching design principles and philosophies
    that we intend to maintain. Some of these concepts and terms
    are introduced in this section. 

    <h2>Separation of GUI and Data</h2>
    First, we must maintain a clean separation between the data
    structures and the GUI that manipulates them, along the lines
    of the <b>Model-View-Controller</b> paradigm. 

    <ul>
      <li>Lists of accounts and the transactions in them can be
      thought of as a representation of financial data, a <b>
      Model</b>.</li>

      <li>The GUI that adds, modifies and deletes these should be
      thought of as a manipulator of the data, a <b>Controller</b>.
      Thus, the Motif or Gnome GUIs are merely two possible
      manipulators of the data; others, based on <i>e.g.</i>
      web/cgi-bin, Qt/KDE, emacs, Java applets or Java servlets
      ought to be possible.</li>

      <li>The <b>View</b> of the data is a subset or slice of the
      data described by the Model. The View may consist of only the
      transactions for the month of May, or only the account totals
      for certain accounts. The View is used in part to generate
      the reports and graphs, but it is also that which the
      Controller interacts with. Views are generated by queries to
      the data store.</li>
    </ul>

    <p>GnuCash also needs to deal with multiple distributed data
    sources: stock quotations from the net or transaction
    confirmations from online banks and brokerage houses, or from
    more mundane sources, such as file imports, or merger of data
    from several users. Amongst these terms, the concept of a
    global Model-View is dated, and somewhat inappropriate. Rather,
    we need to be concerned about how data is represented in the
    local address space of the GUI, how the GUI manipulates it, how
    data is brought in and merged from external sources, and how
    that data is again output, whether to a file or a local or
    remote database.</p>

    <p>Thus, the <b>View</b> essentially represents a local data
    cache of the data that is immediately present and being
    displayed, reported, and manipulated. The <b>Model</b> is the
    abstraction of that data that the GUI (the controller) can act
    on.</p>

    <h2>The Financial Engine</h2>
    In GnuCash, the Model is implemented via the <b>Engine</b> API,
    and the View is the data that is currently in the <b>
    Engine</b>. Thus, the Engine is a set of programming API's that
    the GUI (or a script, or even a clever command-line-addict) can
    use to manipulate the data. 

    <p>Currently, the Engine is fairly poor, and is tightly tied to
    the data structures that the GUI manipulates. These data
    structures include:</p>

    <ul>
      <li><b>Transactions</b>, which consist of a set of journal
      entries (JE's) whose values sum to zero.</li>

      <li><b>Journal Entries</b> (internally refered to as
      'splits') which record prices and values.</li>

      <li><b>Accounts</b>, which consist of a list of journal
      entries.</li>

      <li><b>Chart of Accounts</b>, which is a heirarchical tree of
      accounts.</li>
    </ul>
    The Engine has a very simple apply/commit model, and a simple
    query mechanism for generating reports and views. The goal of
    the commit and query model is to aid/simplify the creation of
    &amp; merger with an SQL back-end. 

    <p>The Engine currently handles only a small set of data
    sources:</p>

    <ul>
      <li>It can import and merge in QIF's;</li>

      <li>It can read and write its own binary byte stream;</li>

      <li>It can get stock quotes from the net.</li>
    </ul>

    <p>However, since the Engine is meant to be the interface
    between the GUI and the financial data, it is really intended
    to be able to do much more.</p>

    <p>In particular, it should be possible to back the Engine onto
    an SQL database, and thereby enable multiple users and/or
    interface to more complex accounting systems. The engine should
    also be expandable to handle other sources of data, such as
    OFX, Integrion GOLD, the Open Trading Protocol, the OMG CORBA
    General Ledger submission, the IBM San Francisco business
    objects, or closer to home, Linux Kontor. In particular, it
    should be possible to use GnuCash not only to view data from
    these sources, but also to manipulate it and send it back.</p>

    <h2>Modularity, Extensibility and Customization</h2>

    <p>The above structure should leads us to view GnuCash not so
    much as a tightly integrated application, but rather as a loose
    confederation of component objects, libraries and interfaces.
    In order to facilitate the gluing together of these parts, as
    well as simplify the questions of customizability, change and
    rapid development, GnuCash makes use of the <a href=
    "http://www.swiss.ai.mit.edu/projects/scheme/index.html">
    Scheme</a> extension language (as implemented in the FSF <a
    href="http://www.gnu.org/software/guile/guile.html">Guile</a>
    interpreter), to glue the pieces together. (Note that the
    engine interface is also available with <a href=
    "http://www.perl.org">Perl</a> interfaces, thanks to a <a href=
    "http://starship.skyport.net/crew/beazley/swig.html">SWIG</a>
    wrapper.</p>
    <hr>
    <!--===================================================-->

    <h1>Requirements</h1>
    Implicit in this desire for extensibility is the need to build
    financial applications supporting two major classes of users: 

    <ul>
      <li>Home Users</li>

      <li>Small Business Users</li>
    </ul>
    They may use some of the same financial terminology, and
    hopefully might share a fair bit of code, but have quite
    different goals and requirements. 

    <h3>Personal Finance Needs</h3>

    <p>Important properties of a personal finance system
    include:</p>

    <ul>
      <li>Needs to be approachable and usable by occasional users
      who are not knowledgeable about accounting.</li>

      <li>Ease of use and simplicity is critical.</li>

      <li>A reasonable selection of reports, graphs, charts, and
      tools for personal finance, such as mortgage
      calculations.</li>

      <li>Budgeting support needs to be targeted at <em>naive</em>
      users.</li>

      <li>Interfaces to on-line banking, shopping, stock
      systems.</li>

      <li>Support for management of stock portfolios that may
      involve considerable sophistication, since individuals
      commonly have retirement plans that hold mutual funds,
      stocks, options, bonds, and the like.</li>
    </ul>

    <h3>Small Business Needs</h3>

    <ul>
      <li>With a business system, it is likely that there will be
      full-time users, which puts the emphasis on <em>
      efficiency</em> of user interface rather than on its
      approachability to naive users.</li>

      <li>Business systems require network support, and the ability
      to support multiple simultaneous users.</li>

      <li>Some business users may want access to the system from an
      MS Windows 95/98/NT box. For these folks, a web-based
      interface could be just handy. Web interfaces are also nice
      for ASP type deployment.</li>

      <li>
        Small businesses do not often have sophisticated investment
        portfolios; they instead need support for additional
        sophistication in such areas as: 

        <ul>
          <li>Payroll</li>

          <li>Inventory Control</li>

          <li>Shipping and Receiving</li>

          <li>Accounts Receivable</li>

          <li>Accounts Payable</li>

          <li>Asset Management</li>
        </ul>
      </li>

      <li>Support for calculations associated with accrual
      accounting.</li>

      <li>Ambitions for the future might include interfaces to
      online shopping carts, credit card clearing interfaces, and
      ERP systems.</li>
    </ul>

    <h3>Reconciling Those Needs</h3>

    <p>A seemingly contradictory factor is that the kinds of
    sophistication that are required vary considerably.
    Consider:</p>

    <ul>
      <li>A home user does not generally require most of the
      sophistication (sophistry?) of accrual accounting that is
      required by business enterprises. Thus, home users don't need
      <em>much</em> of the sophistication of an Accounts Receivable
      or Payable system, or the <em>bizarre</em> depreciation
      policies that crop up in Asset Management systems.<br>
      <br>
      </li>

      <li>
        On the other hand, home users are in increasing need of
        surprisingly sophisticated financial tools for managing
        stock portfolios, including: 

        <ul>
          <li>Mutual funds</li>

          <li>Retirement savings plans, with such identifiers as
          401(k), IRA, Roth IRA, RRSP</li>

          <li>Corporate stock purchase plans</li>

          <li>Corporate option plans</li>
        </ul>
      </li>
    </ul>
    Another set of contradictory requirements has to do with the
    back-end, and interfacing to other systems: 

    <ul>
      <li>Home users need a simple-to-install, simple-to-maintain
      system. This essentially rules out the use of SQL for the
      storage medium/back-end for home users. (That is, the current
      state of the art for SQL on Linux does not offer any simple,
      fool-proof management for data).</li>

      <li>By contrast, non-SQL systems for business use are almost
      unimaginable. SQL provides a high degree of data integrity
      and storage robustness, and also simplifies tremendously the
      import and export of data. Powerful SQL tools exist that can
      work magic in the hands of a good DB admin.</li>
    </ul>

    <p>It may be that these will require <em>completely</em>
    different systems, and that GnuCash cannot be "all things to
    all people." This remains to be seen.</p>
    <hr>
    <!--===================================================-->

    <h1>Sizings</h1>
    This section attempts to guesss how hard it would be to
    implement certain features. 

    <h2>Personal Financial Application</h2>
    Below are listed the technical work items needed to implement
    the features that home users might hope to have. They are
    listed in approximate order of priority. 

    <p>The right hand column shows a sizing guesstimate. pm ==
    person-months. These sizings are meant to show 'effort needed
    to complete', rather than 'total effort required'. Thus,
    half-finished items have smaller sizings.</p>

    <ul>
      <li><b>Small</b> 0 to 4 pm</li>

      <li><b>Medium</b> 3 to 12 pm</li>

      <li><b>Large</b> More than 12 pm</li>
    </ul>

    <table border="1" summary=
    "Personal Finance Functionality Requirements">
      <tr>
        <th>Feature</th>

        <th>Sizing</th>
      </tr>

      <tr>
        <td>
        </td>
      </tr>

      <tr>
        <td><a href="#i18n">Internationalization</a></td>

        <td>Small</td>
      </tr>

      <tr>
        <td><a href="#reports">Reports</a></td>

        <td>Small</td>
      </tr>

      <tr>
        <td><a href="#graphs">Graphs</a></td>

        <td>Medium</td>
      </tr>

      <tr>
        <td><a href="#stock">Simplified Stock Ledger</a></td>

        <td>Small</td>
      </tr>

      <tr>
        <td><a href="#glitz">Themes, Icons, Glitz</a></td>

        <td>Medium</td>
      </tr>

      <tr>
        <td><a href="#book">Books, Accounting Periods</a></td>

        <td>Small</td>
      </tr>

      <tr>
        <td><a href="#check">Check Printing</a></td>

        <td>Small</td>
      </tr>

      <tr>
        <td><a href="#userpref">User Preferences</a></td>

        <td>Medium</td>
      </tr>

      <tr>
        <td><a href="#ext">Extension Language Support</a></td>

        <td>Medium</td>
      </tr>

      <tr>
        <td><a href="#401K">401K etc.</a></td>

        <td>Small</td>
      </tr>

      <tr>
        <td><a href="#note">Annotate with Investment News</a></td>

        <td>Small</td>
      </tr>

      <tr>
        <td><a href="#loan">Loan and Mortgage Calculators</a></td>

        <td>Small</td>
      </tr>

      <tr>
        <td><a href="#budget">Budgeting</a></td>

        <td>Medium</td>
      </tr>

      <tr>
        <td><a href="#overdraft">Overdraft Alerts</a></td>

        <td>Small</td>
      </tr>

      <tr>
        <td><a href="#alerts">Alerts, Recurring
        Transactions</a></td>

        <td>Medium</td>
      </tr>

      <tr>
        <td><a href="#quickim">Quicken(TM) Import</a></td>

        <td>Small</td>
      </tr>

      <tr>
        <td><a href="#quickex">Quicken(TM) Export</a></td>

        <td>Small</td>
      </tr>

      <tr>
        <td><a href="#quote">Stock Quotes, Price Quotes</a></td>

        <td>Small</td>
      </tr>

      <tr>
        <td><a href="#tech">Technical Stock Analysis</a></td>

        <td>Medium</td>
      </tr>

      <tr>
        <td><a href="#sink">Depreciation, Sinking Funds</a></td>

        <td>Medium</td>
      </tr>

      <tr>
        <td><a href="#ofx">OFX, Online Banking, Trading,
        Bill-pay</a></td>

        <td>Large</td>
      </tr>

      <tr>
        <td><a href="#currency">Multiple Currencies</a></td>

        <td>Medium</td>
      </tr>

      <tr>
        <td><a href="#double">Double Entry Accounting</a></td>

        <td>Small</td>
      </tr>

      <tr>
        <td><a href="#tab">Tab-delimited ASCII export</a></td>

        <td>Small</td>
      </tr>

      <tr>
        <td><a href="#tax">Tax Preparation</a></td>

        <td>Large</td>
      </tr>

      <tr>
        <td><a href="#palm">Sync with Palm Pilot
        organizers</a></td>

        <td>Medium</td>
      </tr>

      <tr>
        <td><a href="#emerg">Emergency Records Organizer</a></td>

        <td>Small</td>
      </tr>
    </table>

    <h2>Small Business Features</h2>
    Features that small/medium businesses expect. 

    <table border="1" summary=
    "Business Functionality Requirements">
      <tr>
        <th>Feature</th>

        <th>Sizing</th>
      </tr>

      <tr>
        <td>
        </td>
      </tr>

      <tr>
        <td><a href="#engine">Enhanced Engine, Financial
        Objects</a></td>

        <td>Large</td>
      </tr>

      <tr>
        <td><a href="#sql">SQL I/O</a></td>

        <td>Medium</td>
      </tr>

      <tr>
        <td><a href="#multiuser">Multi-User Support</a></td>

        <td>Medium</td>
      </tr>

      <tr>
        <td><a href="#arap">A/R, A/P Accounts Payable,
        Receivable</a></td>

        <td>Medium</td>
      </tr>

      <tr>
        <td><a href="#payroll">Payroll</a></td>

        <td>Medium</td>
      </tr>

      <tr>
        <td><a href="#invoice">Invoicing</a></td>

        <td>Medium</td>
      </tr>

      <tr>
        <td><a href="#estimate">Job Costing</a></td>

        <td>Medium</td>
      </tr>

      <tr>
        <td><a href="#expense">Expense Accounts</a></td>

        <td>Large</td>
      </tr>
    </table>
    <hr>
    <!--===================================================-->

    <h1>Features and Functions</h1>
    This section reviews the current status of various features.
    Some of these are 'in process', some are 'almost done', some
    are 'completely done'. This section thus provides status on
    both where we've been, and where we're going. 

    <dl>
      <dd><a name="i18n"></a></dd>

      <dt><b>Internationalization</b></dt>

      <dd>
        All menus, markup and help-text should be
        internationalized, so that GnuCash may be usable in any
        country. This would include the printing of currency values
        in the local country conventions. 

        <p><b>Current status:</b></p>

        <ul>
          <li>All GUI messages currently use GNU <tt>gettext()</tt>
          for the message catalogs. Translations exist for English,
          British, French, Sweedish and German.</li>

          <li>Help pages available only in English and French.</li>

          <li>Monetary and string handling done through glibc. The
          latest glibc (2.2.3) is nedded to get the correct
          functions.</li>

          <li>Yannick Le Ny &lt;y-le-ny@ifrance.com&gt; traduction
          en francais</li>

          <li>Most GUI input elements use the gtk text widget, and
          thus use the XIM input method in asian locales. This
          allows <i>e.g.</i> Kanji, Katakana support. However, the
          register does <em>not</em> use XIM, and thus doesn't
          currently support the asian languages. This needs
          fixing.</li>
        </ul>
        <br>
        <br>
      </dd>

      <dt><a name="reports"><b>Reports</b></a></dt>

      <dd>
        A variety of reports, including Net Worth, Balance Sheets,
        and Profit and Loss statements. These should be printable:
        that is, exportable as HTML as well as print-ready
        postscript. These should be easy to customize. Ideally,
        even novice users should be able to create custom reports. 

        <p>The Report Generator should be a separate but "dockable"
        subsystem of the whole. That is, it should be possible to
        run the report generator in a stand-alone, read-only
        fashion without having to start up the main application. It
        should be possible to run reports nightly from a
        command-line and/or cron job.</p>

        <p>One difficult aspect of reporting is designing a
        configurable interface, so that people can build custom
        reports. The <a href="xacc-reports.html#NEWREP">New
        Reporting Infrastructure</a> is seeking to build this up
        using Guile.</p>

        <p>Generated reports should be exportable to other gnome
        systems using bonobo. Reports should also be exportable to
        the gnumeric spreadsheet (possibly by writing out gnumeric
        file format??)</p>

        <p>Reports should make use of the 'action' field ...</p>
        Relationship to budgeting not clear ... 

        <p>Stock portfolio tools should include a Cost Averaging
        report, Market Index report, Stock Option values,
        Estimation of capital gains tax liabilities.</p>

        <p><b>Status:</b></p>

        <ul>
          <li>A general reporting infrastrucutre was implemented in
          Perl, in the form of html-embedded perl (ePerl). However,
          this reporting mechanism was abondoned in part because
          ongoing build and install problems related to eperl and
          swig. Also, since eperl didn't poarticipate in the
          interpreter even loop, the report generator had to runn
          as a separate process, reading data via pipes. This was
          uglier than some folks liked.</li>

          <li>A general reporting infrastructure has been <a href=
          "xacc-reports.html#NEWREP">implemented in Scheme</a>.
          Currently, there are simple reports for Profit/Loss,
          Balance Sheet, and portfolio valuation.</li>

          <li>Reports are currently displayed with the gtk-xmhtml
          widget but are being ported to the gtk-html widget. The
          gtkhtml widget should provide printing abilities through
          gnome-print (right ????).</li>

          <li>There is currently no way (no longer any way??) to
          generate reports from the command line ...</li>

          <li>A list of 'required reports' is needed. Then these
          need to be implemented.</li>

          <li>Heavy discussion by matt martin, Robert Merkel
          ...</li>
          
          <li>The following technologies were rejected/unused mostly
        because they were too complex, didn't hang together technologies:
        <a href= "http://www.oasis-open.org/cover/">SGML</a> and <a href=
        "http://www.oasis-open.org/cover/xml.html">Extensible
        Markup Language - XML.</a> In the long run, these are
        preferable to HTML, since <a href=
        "http://www.jclark.com/dsssl/">DSSSL</a> tools such as <a
        href="http://www.jclark.com/jade/">Jade (James DSSSL
        Engine)</a> can be used to convert to RTF, Postscript, etc.
        Add to this the consideration that XML is the basis for the
        <a href="http://www.w3.org/DOM/">Document Object Model</a>,
        which is being integrated into many web-based applications,
        and we can see that XML is an increasingly significant
        format as we look to the future.
        </li>

        </ul>
        <br>
        <br>
      </dd>

      <dt><a name="graphs"><b>Graphs</b></a></dt>

      <dd>
        <p>Graph portfolio value vs. cost</p>

        <p>Graphs, charts, etc. too ...</p>

        <p>Asset allocation pie chart.</p>

        <p>The following graph packages are candidates: <a href=
        "http://www.gnome.org/guppi/">GUPPI</a>, plotutils,
        gnumeric/graph code. The gnumeric/graphcode is already
        bonobo-ified.</p>

        <p>If gnumeric and gnucash are to use a common graph
        solution, the following are gnumeric requirements: --
        interactive plot editing -- each segment attributes totally
        settable/controllable -- drag/move callbacks when segments
        are click-draged.</p>

        <p><b>Status:</b></p>

        <ul>
          <li>Evaluate different graphing packages, including <a
          href="http://www.gnome.org/guppi/">GUPPI</a></li>
        </ul>
        <br>
        <br>
      </dd>

      <dt><a name="stock"><b>Simplified Stock Ledger</b></a></dt>

      <dd>
        Stocks and Mutual funds are handled by placing them each in
        their own account. Each account can be viewed individually.
        If all of the stock accounts are children of a master
        trading account, then the trading account can be viewed and
        modified in a General Ledger window. The current stock
        general ledger window is a bit obtuse, and difficult to
        understand and use. A simplified but still powerful ledger
        window is desperately needed. 

        <p><b>Question</b>: How to most simply allow the user to
        enter loads and fees?</p>

        <p><b>Answer</b>: Through splits. Unfortunately, some users
        may not properly understand splits, at least not initially.
        Thus, a little popup is needed to allow the user to type in
        the sales load or fee and such, and then auto-create the
        needed splits.</p>

        <p>Note the current transfer window does <em>NOT</em> allow
        a share price to be specified !! Needs fixing ...</p>
      </dd>

      <dt><b>Documentation</b></dt>

      <dd>Need to add a 'meta keyword' tag to the documetnatin
      pages, this will help the search engine (<em>e.g.</em> <a
      href="http://www.htdig.org/">htdig</a>) better categorize the
      help. <a href="http://www.senga.org/mifluz/html/">Mifluz</a>
      might be more embeddable ... I am told that htdig-API is in
      good solid condition for this, but undocumented.</dd>

      <dd><a name="glitz"></a></dd>

      <dt><b>Themes, Icons, Glitz</b></dt>

      <dd>
        A variety of finer touches need work: 

        <ul>
          <li>
            <p><b>Hint-of-the-Day</b>. A collection of a some
            50-100 hints-of-the-day: short (2-4 sentance)
            hints/tips on how to use gnucash. Every time the user
            starts gnucash, an new hint shows up ...</p>
          </li>

          <li>
            <p><b>Themes</b>. Some theme testing required. The
            effect of themes on the register window needs to be
            reviewed.</p>
          </li>

          <li>
            <p><b>Button Bar</b> A user-configurable button-bar
            would be nice too. The button bar is the set of
            'buttons' (open, edit...) at the top of a register
            window and the main window.</p>
          </li>

          <li>
            <p><b>Categories/Default Chart of Accounts</b> Provide
            a default Chart of Accounts, which will mostly consist
            of a default set of 'Categories' (Income/Expense
            Accounts). These are categories such as "Automobile
            Expense", "Bank Interest Income", and "Employment
            Income". The user should be able to select a default
            set of accounts, and have those created
            automatically.</p>

            <p>To actually implement this, it might be best to
            simply create a file with these in them, and load that
            file. A mechanism should be provided to allow the user
            to weed out undesired accounts whilst not preventing
            them from using them at a later date, if desired.</p>
          </li>

          <li>
            <p><b>Household Assets</b> Add an example showing how
            regular household assets (house, car, jewelry, etc.)
            should be treated. In particular, show how appreciation
            and depreciation should be treated.</p>
          </li>

          <li>
            <p><b>More account types</b> Introduce more
            'fundamental' account types: (ammortized) Loan,
            Mortgage, ESOP, House, Line of Credit.</p>
          </li>

          <li>
            <p><b>Cut-n-paste</b> Cut-n-paste of items in the
            regsiter window...</p>
          </li>

          <li>
            <p><b>Bank name in combo-box pull-down</b> When user
            enters a new bank name, should be presented with a
            combo-box listing other bank-account names ... (note
            this may require implementation of engine callbacks so
            that relevent code can be informed when there are new
            bank names?)</p>
          </li>

          <li>
            <p><b>Currency Selection Popup</b> Currency field
            should get preplaced by menu of long-hand currency
            names, three-letter ISO abbreviations, and symbols.
            User should be able to add new currency types. Should
            also keep a static exchange-rate table.</p>
          </li>

          <li>
            <p><b>Popup Calculator</b> All price/amount fields
            should pop up a calculator widget; output of calculator
            gets entered in field.</p>
          </li>

          <li>
            <p><b>Popup Calender</b> All date fields should pop up
            a calender widget; selected date should get entered in
            field.</p>
          </li>

          <li>
            <p><b>Register View</b> Allow user to view only
            non-reconciled transactions ...</p>
          </li>

          <li>
            <p><b>Autocompletion</b> Quickfill should also
            auto-complete amount, memo fields.</p>
          </li>

          <li>
            <p><b>Autoincrement</b> Check numbers should
            auto-increment.</p>
          </li>

          <li>
            <p><b>Configurable main-window Status Bar</b> Bottom of
            main window currently shows total assest, and total
            income-expense (profits). Make this configurable, so
            that user can show arbitrary sums of arbitrary
            accounts.</p>
          </li>

          <li>
            <p><b>Dockable Registers/ aka "Browser Mode"</b>.
            Currently, when each new register opens, it opens in a
            new window. An alternate style would be to 'dock' the
            register window in a bigger frame, and just have
            'backward/forward' buttons to navigate through
            different registers (the way that a browser navigates
            web pages.) This of course would be a user
            preference.</p>
          </li>

          <li>
            <p><b>Wizards/Context sensitive help</b>. When users
            create new accounts, need to suggest stuff if the user
            typed something unexpected ... (<em>e.g.</em>
            non-alphanumeric input) ...</p>
          </li>

          <li>
            <p><b>Navigation</b> Menu navigation using the keyboard
            should be possible. Although menu mnemonics exist, they
            seem to be broken. ???</p>

            <p>Similarly, tab-key navigation should be possible.
            Currently, it is possible to use the tab key to
            navigate from field to field in the register window, to
            user arrow keys to navigate menus, and quick-fill to
            automatically complete fields. However, it is not
            possible to tab over to the "Commit" button. It should
            be.</p>
          </li>

          <li>
            <p><b>Folder Tabs</b> Currently, Income/Expense
            accounts can be shown or hidden by selecting from a
            menu. It would be nice to be able to examine different
            account types (Asset, Liability, Income, Expense,
            Payables, Receivables, Inventory) by selecting a tab
            folder.</p>
          </li>

          <li>
            <p><b>Fly-Over Help</b> When the user pauses the mouse
            over a button, "fly-over" pop-up help windows should
            appear.</p>
          </li>

          <li>
            <p><b>Grayed-out Form Help</b> Create grayed out
            entries in the ledger, titled "Memo", "Description",
            etc, helping users understand what should be typed into
            each field. <b>Status:</b> Done, as of version
            1.3.2(?)</p>
          </li>

          <li>
            <p><b><a href="http://www.emacs.org">emacs,</a> vi,
            motif, KDE, gnome Key Bindings for Text Fields</b> Make
            sure that text fields can handle the vi and emacs key
            bindings, so that <em>e.g.</em> emacs-style ctrl-a,
            ctrl-k does the right thing.</p>
          </li>
        </ul>
      </dd>

      <dd><a name="book"></a></dd>

      <dt><b>Books, Accounting Periods</b></dt>

      <dd>
        Ability to close the book at end of the fiscal year. This
        consists of several steps: 

        <ul>
          <li>Permanently lock some transactions as non-editable.
          This should be straight-forward by using the <tt>
          reconciled</tt> field to indicate a <tt>locked</tt>
          value, and not allowing the GUI to edit locked
          records.</li>

          <li>Transfer the Income minus Expense for the book period
          to an equity account, so that each new period starts with
          zero income/expense balances.</li>

          <li>A mechanism to purge really old transactions from the
          database.</li>

          <li>Extensions to reporting infrastructure ...</li>

          <li>
            A user should be allowed to 'delete' an account <em>
            only</em> if it has no transactions in the currently
            open book. 

            <p>Of course, it's not deleted from the old books.</p>

            <p>From this last, we conclude that every chart of
            accounts should have a begining and ending date (that
            match the book period), and the file format needs to
            support multiple charts ...</p>
          </li>
        </ul>
        <br>
        <br>
         

        <p><b>Status:</b></p>

        <ul>
          <li>A mini-design doc exists in
          src/engine/future.txt</li>
        </ul>
        <br>
        <br>
      </dd>

      <dd><a name="check"></a></dd>

      <dt><b>Check Printing</b></dt>

      <dd>
        Create a check-printing ability. 

        <p><b>Status:</b></p>

        <ul>
          <li>Bill Gribble has built a prototype based on the
          gnome-print. Waiting for gnome-print to mature ...</li>
        </ul>
        <br>
        <br>
      </dd>

      <dt><a name="userpref"><b>User Preferences</b></a></dt>

      <dd>
        Create menu system and file format for manipulating user
        preferences. Preferences include things like default
        currency, register layout and colors, etc. 

        <p>What are some of the comptitive preference-handling
        technologies? Lets get some URL's here ... Following the
        unix tradition, there is no global prefernces registery.
        Note that session management and preferences are related
        things ... sort-of. Right now, we don't treat themn as such
        ...</p>

        <p>Session management is not implemented; viz, we don't
        remember where things were left at when the user shut down
        the windowing system, and we don't restore the session
        afterwords. This includes: which register windows were left
        open, what sizes they were, what thier placements on the
        screen were, etc. I beleive session management needs to be
        coordinated with KDE and with gnome, and all compliant
        window maangers will do the rest (?)</p>

        <p>Independently of session management, the register
        windows should remember how big they were last time they
        were poped up, and they should pop up the same size, again.
        The app should remember these sizes from invocation to
        invocation.</p>

        <p><b>Status:</b></p>

        <ul>
          <li>Works good; lots of preferences in the gui.
          Implemented in home-grown scheme.</li>

          <li>These are saved in the '.gnucash/config.auto' file.
          The current file format is raw scheme code, rather
          delicate to tweak by hand ...</li>
        </ul>
        <br>
        <br>
      </dd>

      <dt><a name="ext"><b>Extension Language Support</b></a></dt>

      <dd>
        The application is wired together partly with C, partly
        with Scheme. The architecture of the wiring and how scheme
        is fit in needs to be reviewed, with a general overview
        created so that additional extensions may be added in a
        straightforward manner. 

        <p>The overall architecture is envisioned thus:</p>

        <p>All code, including the transaction engine, the file I/O
        routines, the menus, and the ledger, will be abstracted
        into compact modules that can function independently of
        each other. At the highest level, there will be a
        infrastructure with extension language interfaces that will
        "wire together" the various modules.</p>

        <p>Such "wiring together" will consist of a dispatch
        infrastructure that will allow arbitrary menu entries to be
        hooked to arbitrary modules. The configuration for menu
        entries, and their associated callbacks, will be specified
        in an extension-language configuration file. At the final
        stages, it is <em>highly</em> desirable to be able to, in
        some manner, import new modules <em>without</em> requiring
        that the application itself be recompiled and relinked.</p>

        <p><b>Status:</b></p>

        <ul>
          <li>Scheme/Guile is the central extension language.</li>

          <li>Optional interfaces to the data engine can be
          generated using <a href=
          "http://starship.skyport.net/crew/beazley/swig.html">
          SWIG</a>.</li>

          <li>Rob Browning is the reigning expert.</li>
        </ul>
        <br>
        <br>
      </dd>

      <dd><a name="401K"></a></dd>

      <dt><b>401(k), RSP</b></dt>

      <dd>
        401K, 403, IRA, Roth IRA, SEP, Keogh ... "Retirement Savigs
        Plans" 

        <p>Retirement Savings Plans often do not put a high
        priority on tracking costs, as the tax implication is that
        amounts are taxable upon withdrawal, meaning that there is
        little necessity to track capital gains. (huh??)</p>
      </dd>

      <dt><a name="note"><b>Annotate with News Stories</b></a></dt>

      <dd>
        Download, save, annotate investment news and research. 

        <p>Provide a way of storing news stories with accounts, and
        possibly annotating individual transactions in the same
        way.</p>
      </dd>

      <dt><a name="loan"><b>Loan and Mortgage
      Calculators</b></a></dt>

      <dd>
        Provide a variety of simple GUI utilities to allow user to
        calculate the future value of loans, mortgage payments,
        interest payments, etc. 

        <p><b>Status:</b></p>

        <ul>
          <li>Not Started.</li>
        </ul>
        <br>
        <br>
      </dd>

      <dt><a name="overdraft"><b>Overdraft Alerts</b></a></dt>

      <dd>
        Overdraft alerts are popups that pop up whenever the user
        enters a transaction that would move an account below some
        minimum balance, or above some max balance (for a bank
        account) or an expense/spending limit is reached (on an
        expense account). A similar but different alert can be
        implenmented for price highs &amp; lows. Note that these
        alerts do <em>not</em> require any sort of calendaring or
        recurring transaction support. 

        <p>Design requirements: implement multiple (not just two)
        alerts for any account type. Alert should consist of</p>

        <ul>
          <li>value point or price point</li>

          <li>movement direction</li>

          <li>'is active' boolean flag (<em>i.e.</em> Should be
          possible to 'turn off alert' without deleting it)</li>

          <li>memo text</li>
        </ul>
        <br>
        <br>
         

        <p><b>Status:</b></p>

        <ul>
          <li>Not Started.</li>
        </ul>
        <br>
        <br>
      </dd>

      <dt><a name="alerts"><b>Recurring Transactions, Calander
      Alerts</b></a></dt>

      <dd>
        Add support for automatic, recurring transactions, <em>
        e.g.</em> mortgage payments, fixed-interest bonds, regular
        salary checks, regular gas/phone/electric bills, <em>
        etc.</em> 

        <p>Loans &amp; mortgages are one of the more complicated
        recurring transactions. Consider the following dialogue
        layout:</p>
<pre>
loan amount $_____________ currency _________ (pull-down menu)
Remaining balance $___________
Payment amount $___________
balloon  payment $_____________
other payment $________  (e.g. escrow, tax)
Payment frequency (weekly/monthly/bimonthly/quarterly/yearly)
loan start date mm/dd/yy   length -----(weeks/months/years/peyments)
loan time left (number of days/weeks/months, rounded)
number of payments left
interest rate  %__________________
payee ____________
pay-from account __________________
next due date mm/dd/yy
</pre>
        Note that in the above, not all fields are independent:
        some can be calculated from others. The <tt>other
        payment</tt> should bring up a mini-register, allowing user
        to add any number of splits.<br>
        <br>
         

        <p>Recurring bills, salary income, etc. are simpler to
        handle, since they don't have intersest rates, balloons,
        etc. They do/will have multiple splits (<em>e.g.</em>
        payroll gross, fica, futa, income taxes, payroll net).</p>

        <p>Provide a calender-display of upcoming &amp; past
        scheduled payments. Clicking on a calander day should raise
        up editable list of transactions. Calendering should
        include generic red-lettering of important dates: taxes
        due, insurance renewal dates, domain registration renewal
        dates, ISP contract expiration date :-). These may or may
        not be associated with transactions. Memoes should be
        possible. Popups should happen when dates get close.
        Technology: need to find/evaluate gnome-calender/dayplanner
        for integration.</p>

        <p>Provide list of upcoming &amp; recently paid
        bills/scheduled payments/scheduled deposits for the next
        1,2,3,6,12 months. Historical view shows payments crossed
        out (!?)</p>

        <p><b>Design Notes:</b> Most alerts &amp; data storage
        should be driven out of the engine. This will enable
        multi-user, distributed use. <b>Note:</b> alerts should be
        piggy-backed on a general alert infrastructure within the
        engine, viz, registered callbacks when balances change, so
        that windows can be redrawn. Not clear on if/how calander
        events might be server-ified. (On the other hand, a good
        calander should be server-ified, and thus viewable by
        secretaries, co-orkers, etc.)</p>

        <p>More complex financial instrucments may need a
        guile-based extension mechanism to compute values ....
        simple interest/mortgage calculators should be done in C in
        the engine ... (<em>e.g.</em> depreciation schedules ...
        under us tax law, a variety of different schedules are
        allowed ... )</p>

        <p>May need interfaces to email for emailed alerts.</p>

        <p>Plot forcast graphs based on scheduled income &amp;
        payments ... is this tied into budgeting ????</p>

        <p><b>Status:</b></p>

        <ul>
          <li>Need to create design doc, need to implement engine
          pieces, need to hunt down gnome-calendering bonobo.</li>
        </ul>
        <br>
        <br>
      </dd>

      <dt><a name="budget"><b>Budgeting</b></a></dt>

      <dd>
        Ability to create a budget (<em>i.e.</em> - estimates of
        future expenditures). Reconcile actual expenditures against
        future expenditures. Create simple, step-by-step 'financial
        plan' budgeting GUI's: 

        <ul>
          <li>Home purchase planner</li>

          <li>Retirement planner</li>

          <li>College tuition planner</li>

          <li>Debt reduction planner</li>

          <li>Scrimp-n-Save planner</li>

          <li>Special purchase planner (big ticket items)</li>
        </ul>
        Create a summary budget/track-record budget report that a
        professional financial planner/advisor could use. 

        <p>Note that the above 'step-by-step' budgeters will have a
        very very different GUI than what the budgeting system
        required for a small-business might look like.</p>

        <p><b>Status:</b></p>

        <ul>
          <li>A design doc has been submitted by Bob Drzyzgula.
          Take a look at <tt>./src/budget.txt</tt> in the source
          directory.</li>

          <li>Bryan Larsen has begun work .. it's scheme based ...
          Dave Peticolas has some gui roughed out ...</li>
        </ul>
        <br>
        <br>
      </dd>

      <dt><a name="quickim"><b>Quicken(TM) Import</b></a></dt>

      <dd>
        Ability to import Quicken QIF files. Both MSMoney and
        Quicken use QIF files to export data. 

        <p><b>Status:</b></p>

        <ul>
          <li>Quicken import is implemented and mostly works. Work
          needs to be done for recurring transactions, etc.</li>

          <li>
            QIF processing, as used for on-line banking, is <em>
            not</em> implemented. That is, staged import isn't
            done. 

            <p>Note that since banks use QIF, the <em>correct</em>
            way to reconcile bank accounts on-line is through
            QIF.</p>

            <p>On one side, we have existing recorded transactions;
            on the other, the latest bank statement, in QIF
            format.</p>

            <p>Now, just put them together ...</p>
          </li>
        </ul>
        <br>
        <br>
      </dd>

      <dt><a name="quickex"><b>Quicken(TM) Export</b></a></dt>

      <dd>
        Ability to export Quicken QIF files. 

        <p>Several design alternatives are apparent:</p>

        <ul>
          <li>
            A special 'report' that writes out qif could be
            created. 

            <p>This would use the 'reports' infrastructure to
            generate qif's.</p>
          </li>

          <li>It is fairly easy to traverse the data in the engine
          to write out qif files. Just do it.</li>
        </ul>
        <br>
        <br>
         

        <p><b>Status:</b> not started</p>
      </dd>

      <dt><a name="quote"><b>Stock Quotes, Price
      Quotes</b></a></dt>

      <dd>
        Add ability to download stock quotes, other price quotes. 

        <p>Add ability to download historical prices as well.
        (<em>e.g.</em> get 5-year history of mutual fund
        performance vs. djia).</p>

        <p>Right now, stock prices are stored along with everything
        else, in the main database, in the transaction table.</p>

        <p>This leads to several aesthetic quandries.</p>

        <ul>
          <li>It bulks up the database with 'less-than critical'
          information.</li>

          <li>Basically, transactions are either 'critical' vix
          record the movement of money, or are non-critical viz
          record things retreivable from the historical record,
          <em>e.g.</em> prices.</li>

          <li>Shouldn't storage for prices be moved to somewhere
          else?</li>

          <li>Hmmm ... what about storage for valatility, shares
          traded, etc?</li>

          <li>Does indeed sound like an alternate storage method
          would be useful.</li>

          <li>What about GUI implications?</li>
        </ul>

        <p><b>Status:</b></p>

        <ul>
          <li>Can obtain stock quotes from Yahoo (NYSE), Fidelity
          Investments, T.Rowe Price, and do automated update of
          GnuCash data files (with the <tt>gnc-price</tt> perl
          script). Need to add more data sources. See <tt>
          src/quotes/Quote.pm</tt> and <tt>
          src/quotes/gnc-price</tt> for details.</li>

          <li>Quote.pm is now a separate development project at
          source-forge.</li>

          <li>Need to integrate with GUI. Right now, this is a
          stand-alone perl script run from <tt>crontab.</tt> This
          will be done by writing scheme wrappers for the module
          (???)</li>
        </ul>
        <br>
        <br>
      </dd>

      <dt><a name="tech"><b>Technical Stock Analysis</b></a></dt>

      <dd>Provide technical sotck analysis graphs, <em>e.g.</em>
      volume, 90 moving avg, beta, etc. See gstalker for example of
      how to do it ...</dd>

      <dt><a name="sink"><b>Depreciation, Sinking
      Funds</b></a></dt>

      <dd>Hmm ... some variation on the concept of loans? Need to
      support different deprciation schedules (see IRS books for
      that).</dd>

      <dt><a name="ofx"><b>OFX support</b></a></dt>

      <dd>
        Provide the SGML DTD parsers to handle the OFX reports that
        many banking institutions are providing, or will soon be
        providing, to retail customers. See below for OFX
        references. 

        <p>OFX is an open spec from Microsoft, Intuit, and
        Checkfree, and which will be supported by Integrion. The
        OFX DTD's are included in the 1.1 distributions. See <a
        href="http://www.ofx.net">OFX Home Page</a> for
        details.</p>

        <p>There are two ways to build an OFX parser. One way is to
        build a compile-time DTD parser that treats the DTD as if
        it were an IDL, and generates C language stubs for a
        parser. This approach was attempted and abandoned because
        it leads to fragile C code and a very large binary.</p>

        <ul>
          <li>The parser is fragile because minor DTD
          non-compliances are hard to parse, handle and recover
          from.</li>

          <li>The parser is huge because the DTD results in
          hundreds of (C++) objects being generated.</li>
        </ul>
        The other method would be to perform run-time DTD parsing.
        This is attractive particularly because it is a more
        commonly-used approach; there are a variety of XML tools
        available that provide this function. 

        <p>Run-time parsing may be slower, but on the OFX client
        side, this should not be a bottleneck.</p>

        <p><b>Status:</b></p>

        <ul>
          <li>A compile-time parser was developed and
          abandoned.</li>
        </ul>
        <br>
        <br>
         

        <p>Note that the organizations developing OFX are looking
        to use XML as their "formats of the future;" this may
        encourage the use of one of the many XML parsers available
        for UNIX.</p>
      </dd>

      <dt><b>Other on-line support</b></dt>

      <dd>
<pre>
&gt;&gt; the German T-Online
&gt;&gt; homebanking system BTX.
&gt;&gt;
&gt;&gt; I Germany we have a very popular online homebanking system,
&gt;&gt; based on the T-Online BTX (Datex-J) system. All of the
&gt;&gt; commercial homebanking software packages like MS-Money or
&gt;&gt; Quicken work with that online system. With that system,
&gt;&gt; you can retrieve  account data from your bank, and also
&gt;&gt; send your transfers.
&gt;&gt;
&gt;&gt; I am using since more than 2 years a GPL software written
&gt;&gt; by a former colleague of mine, Niek Busscher, to work with
&gt;&gt; the T-Online homebanking system. That software package with
&gt;&gt; the name ZKA4BTX is very unknown, since Niek published it only
&gt;&gt; by email.
&gt;&gt;
&gt;&gt; Some words to the features of ZKA4BTX :
&gt;&gt;
&gt;&gt;  - Completely written in Tcl
&gt;&gt;  - Uses Xcept as a BTX browser
&gt;&gt;  - Retrieve account data from multiple banks
&gt;&gt;  - Send transfers, using TAN
&gt;&gt;  - Export retrieved account data to CBB, Xfinans and QIF files      
&gt;&gt;  - Export retrieved account data to CBB, Xfinans and QIF files
&gt;&gt;
&gt;&gt; With a simple click to an icon on my desktop, ZKA4BTX logs into
&gt;&gt; T-Online, gets all my account datas from several banks, and writes
&gt;&gt; (adds) it to my CBB, Xfinans or GNUcash (QIF) files.
&gt;&gt;
&gt;&gt; Another very important thing is that I can do all my tranfers
&gt;&gt; offline, editing a transfer sheet, and ZKA4BTX sends these
&gt;&gt; transfers in one step to my bank.
&gt;
&gt;One thing we could do in the short-medium term is have gnucash
&gt;launch ZKA4BTX to get the data, export it to QIF, and then load
&gt;it in, all through one command.
</pre>
      </dd>

      <dt><a name="currency"><b>Multiple Currencies</b></a></dt>

      <dd>
        Need to support multiple currencies. 

        <p>Work is needed in the GUI. The engine currently supports
        multiple currencies by treating them as securities, thus
        allowing currency trading. The currency-trading register
        needs a complete overhaul as it is obtuse and
        unintuitive.</p>

        <p>A simplfied way of dealing with one-shot currency
        exchanges needs to be implemented, essentially just a
        simple calculator popup.</p>
      </dd>

      <dt><a name="double"><b>Forced Double-Entry</b></a></dt>

      <dd>
        The system supports double-entry: every transaction
        indicates a pair of accounts: one is debited, and one is
        credited. 

        <p>Double-entry is a powerful way of ensuring the integrity
        of of the financial data. Currently, while double-entry is
        supported, its use is not enforced: the user <em>can</em>
        create dangling transactions, where only one account is
        indicated.</p>

        <p>Although this is acceptable for home use (arguably
        desirable, since it allows the casual user the simplicity
        they desire), it is not acceptable for business use. (The
        counterargument is that casual users that aren't
        accountants need all the help at getting things right that
        they can get.)</p>

        <p>It must be possible to enforce double entry, so that a
        transaction cannot be completed until two accounts have
        been specified.</p>

        <p><b>Restricted Double</b> Note that sometimes, the words
        'single-entry' have a an alternate meaning: they can mean
        'a double entry account which can only be credited, or
        debited, but not both'. We need to implement this.</p>

        <p><b>Current status:</b></p>

        <ul>
          <li>April 1998 -- The engine has a couple of flags in it
          that control double-entry behavior: it can be made lax or
          strict, however, they are compiled in, and there is no
          way to change them from the GUI.</li>

          <li>Dec 1998 -- Scrubber functions implemented to crawl
          through data, and find all unbalanced or orphaned
          transactions.</li>

          <li>May 2000 -- Default will be changed to double-entry
          always. It will not be possible to disable this and move
          to single-entry.</li>
        </ul>
        <br>
        <br>
      </dd>

      <dt><a name="tab"><b>Tab-delimited ASCII file
      format</b></a></dt>

      <dd>
        People <em>like</em> to be able to read file contents in
        ASCII; there are many Unix tools for manipulating ASCII. An
        ASCII equivalent of the current file format should be easy
        to develop ... just substitute the writes with <tt>
        printf()</tt>s. 

        <p>The tab-delimited format should be compatible with that
        of <tt>/rdb</tt>, aka <a href=
        "ftp://ftp.rand.org/pub/RDB-hobbs/">RAND/Hobbs /rdb</a> or
        <a href=
        "ftp://ftp.linux.it/pub/database/RDB/nosql-0.8.tar.gz">
        NoSQL.</a> (NoSQL is available as part of the <a href=
        "http://www.debian.org">Debian GNU/Linux</a> distribution,
        for instance.)</p>

        <p>The <tt>/rdb</tt> format is thus:</p>
<pre>
field-name  tab  fieldname  tab fieldname   \n
------------------------------------------  \n
value       tab   value     tab value       \n
value       tab   value     tab value       \n
etc ...
</pre>

        <p>It is a very simple, very basic flat table format. The
        use of <tt>/rdb</tt> with GnuCash should try to match with
        SQL schemas as much as possible in order to minimize I/O
        complexity and incompatibility.</p>
      </dd>

      <dt><a name="tax"><b>Tax Preparation</b></a></dt>

      <dd>
        Gotta prepare those taxes. 

        <ul>
          <li>
            TurboTax 

            <p>categorize items according to different tax
            schedules</p>
          </li>

          <li>VAT</li>

          <li>estimate income taxes</li>

          <li>estimate itemized deductions, find potential
          deductions, categorize them</li>
        </ul>
      </dd>

      <dt><a name="palm"><b>Sync with Palm Pilot
      organizers</b></a></dt>

      <dd>There are Quicken-workalikes that run on the
      PalmComputing platform; it would be good to inter-operate
      with this. See
      <a href="ftp://ryeham.ee.ryerson.ca/pub/PalmOS/">PalmLink</a> 
      and <a href="http://www.orbits.com/Palm/">Palm & Linux</a>.
      </dd>

      <dt><a name="emerg"><b>Emergency Records
      Organizer</b></a></dt>

      <dd>Put together a single-page report showing critical info
      about accounts, etc.</dd>

      <dt><a name="engine"><b>Enriched Engine, Financial
      Objects</b></a></dt>

      <dd>
        The current system makes a distinction between the data
        (account, transaction) and they GUI that displays it. The
        data is embedded within and controlled by the "Engine",
        which is a set of routines to access accounts,
        transactions, etc. The engine serves as a kind of a dynamic
        cache between the permanent data repository (file, sql db)
        and the GUI. 

        <p>The current engine is rather simple: it provides support
        for accounts, account hierarchies and transactions
        consisting of multiple entries.</p>

        <p>Many of the features described elsewhere will require
        that the engine have a far richer, more sophisticated data
        model, including such things as:</p>

        <ul>
          <li>Linking to "Address Info" ( <em>e.g.</em> names,
          addresses)</li>

          <li>Transaction identifiers</li>

          <li>Part numbers, SKU IDs</li>

          <li>Interest rates</li>

          <li>Budget policy</li>
        </ul>

        <p>Note: it makes no sense at this point to make the engine
        API much richer than what the GUI can currently
        support.</p>

        <ul>
          <li><b>Locks</b> When splits are implemented, and the
          parent transaction has been marked as cleared, the record
          should be locked, so that further modifications to the
          amount can't be performed (or at least, a warning is
          generated to prevent accidental garbaging up of old
          transactions).</li>

          <li>
            <b>Books</b> Ability to close a book at the end of the
            fiscal year, thus indicating that nobody is permitted
            to "mess around" with that old data. 

            <p>In a business environment, the auditors may have
            "signed off" on the validity of the data; at that
            point, the ability to modify audited data should be
            <em>very</em> tightly controlled, or even outright
            forbidden.</p>
          </li>
        </ul>

        <p><b>Current Status:</b></p>

        <ul>
          <li>The basic engine has been detangled from the GUI
          elements, as of version gnucash-1.1.4.</li>

          <li>Binary file I/O mostly detangled into a separate
          module.</li>

          <li>Crude transaction logging/auditing in place; should
          be suitable for error/crash recovery but has not been
          "tried by fire."</li>

          <li>Backup files automatically created and
          time-stamped.</li>

          <li>
            <tt>BeginEdit()/RollbackEdit()/CommitEdit()</tt>
            routines mostly in place, 

            <p>These "Transaction processing constructs" should
            simplify creation of an SQL back end, or some other
            more sophisticated database engine.</p>
          </li>

          <li>Multiple currency support is present but still pretty
          "raw."</li>

          <li>Query engine is minimal/sparse in capabilities.</li>

          <li>Linas &lt;linas@linas.org&gt; is maintaining the
          engine code.</li>
        </ul>
      </dd>

      <dt><a name="sql"><b>SQL I/O</b></a></dt>

      <dd>
        A module is necessary to allow data to be fetched from an
        SQL database, and for that database to be updated. 

        <p>There has been <em>much</em> discussion about this on
        mailing lists both for GnuCash and <a href=
        "http://www.menet.umn.edu/~curt/cbb/">CBB.</a> Major points
        have included:</p>

        <ul>
          <li>
            Those SQL databases available on Linux tend to involve
            considerable <em>administrative</em> overhead in terms
            of getting them set up. 

            <p>This may be a minor cost to a business enterprise
            that routinely hires DataBase Administrators.</p>

            <p>It is <em>not</em> acceptable to require this of
            naive users that may find "simple" things like</p>
<pre>
% su -
Password:
# cd /tmp
# rpm -i gnucash-4.1.3.i386.rpm
# exit
</pre>
            to be challenging.
          </li>

          <li>
            It might be useful to use an embedded database engine
            like unto <a href="http://www.sleepycat.com/">Sleepycat
            DB</a>, <a href=
            "ftp://koobera.math/uic.edu/www.cdb.html">cdb,</a> or
            something like <a href=
            "http://www.opengroup.org/public/prods/dmm4.htm">
            ISAM</a> (Note CQL++ supports ISAM access methds), or
            even an embedded SQL engine such as <a href=
            "http://www.ispras.ru/~knizhnik/gigabase.html">
            GigaBASE</a>. 

            <p>The reasons to do so include:</p>

            <ul>
              <li>
                The use of a database allows only that data which
                is actually <em>in use</em> to be loaded into
                memory. 

                <p>This permits managing larger sets of
                transactions more efficiently.</p>
              </li>

              <li>It also allows data to be pushed out to the DBMS
              <em>immediately after entry,</em> rather than waiting
              for the user to "save the books."</li>

              <li>
                By using a well-known DBMS, outside programs are
                provided a well-defined way of getting at, and
                perhaps even modifying, GnuCash data. 

                <p>Interoperability is generally considered a good
                thing...</p>
              </li>
            </ul>
          </li>

          <li>
            GnuCash presently uses a document-oriented model, where
            the <em>entire</em> set of books are loaded in, and
            dumped out, all at one fell swoop. 

            <p>GnuCash needs to be modified to access the database
            in a transactional manner. This is at least partly
            implemented with the <tt>Begin()/End()</tt> constructs
            in the engine.</p>

            <p>Some transactional thoughts: entire SQL
            tables/databases do not need to be locked while the
            user is editing a transaction via the GUI.</p>

            <p>Instead, an optimistic approach, similar to that
            employed by CVS (concurrent version system, a mechanism
            for storing versions of source code) could be used: if
            the edits conflict with changes made by others, edits
            are be rejected en-masse, allowing the user to merge
            and correct their changes.</p>

            <p>Important note: updating SQL does <em>not</em>
            require locks to be held for extended periods of
            time!</p>
          </li>

          <li>
            The SQL engine chosen should be fully transactional,
            passing the 'ACID' test (Atomicity, Consistency,
            Isolation, Durability). 

            <p>Note that <a href=
            "http://openacs.org/why-not-mysql.html">MySQL does not
            satisfy the 'ACID' criteria</a>.</p>
          </li>
        </ul>
      </dd>

      <dt><a name="multiuser"><b>Multi-user Support</b></a></dt>

      <dd>
        Multi-user support should be added with either an SQL
        backend to the engine, and/or through CORBA interfaces to
        the engine. 

        <p>Project Kontor and also FreeMoney is working on SQL
        schemas; Kontor is also working on Java RMI/CORBA
        interfaces.</p>

        <p>Another possibility is to create a web application
        server, and have users do much/most of I/O via a web
        interface, possibly using the register object as a browser
        plugin.</p>

        <p>The following industrial-strength features are
        needed:</p>

        <ul>
          <li>transaction-oriented queuing of updates</li>

          <li>event subscription channel for updates</li>

          <li>user authentication</li>

          <li>user authorization</li>

          <li>non-repudiability</li>

          <li>encryption of network connections</li>
        </ul>
      </dd>

      <dt><a name="arap"><b>Accounts Payable,
      Receivable</b></a></dt>

      <dd>Add features to track sales receipts and other pending
      sources of income, as well as owed sums.</dd>

      <dt><a name="payroll"><b>Payroll</b></a></dt>

      <dd>
        Payroll introduces a <em>sizable</em> amount of complexity
        in terms of the need to comply with constantly-changing
        government regulations in whatever country one is in. 

        <p>While the GnuCash "engine" might remain free,
        maintenance of payroll functionality would require
        "subscribing" to an update scheme; it might be troublesome
        to try to provide such a "subscription" free of charge.</p>
      </dd>

      <dt><a name="invoice"><b>Invoicing</b></a></dt>

      <dd>Invoicing. To design an invoice, need to have a
      mini-word-processor/simple drawing plug-in. Is
      Abisource/Abiword a candidate? Probably needs bonobo...</dd>

      <dt><a name="estimate"><b>Job Costing</b></a></dt>

      <dd>Ability to prepare and track estimates.</dd>

      <dt><a name="expense"><b>Expense Accounts</b></a></dt>

      <dd>Expense Account Automation, including air, car, hotel,
      dining. Receipts, reservations, cancellations.</dd>
    </dl>

    <h1>References</h1>

    <ul>
      <li><a href="http://gnucash.org/">GnuCash Home Page</a></li>

      <li><a href="http://www.hex.net/~cbbrowne/finances.html">
      Christopher Browne's List of GNU/Linux Accounting
      Software</a></li>

      <li><a href="http://gnucash.org/gnucash-devel/">Official
      GnuCash mail archives</a></li>

      <li><a href=
      "http://www.mail-archive.com/gnucash-devel@gnucash.org/">
      GnuCash Mail archives</a></li>

      <li style="list-style: none">-- alternate.</li>

      <li><a href="http://www.pathcom.com/~sstratos/">gstalker</a>
      gtk/gnome stock grapher.</li>

      <li><a href=
      "http://prope.insa-lyon.fr/~rhertzog/geniustrader/">Genius
      Trader</a> stock graphing tool. Based on Perl and Tk.</li>

      <li><a href="http://www.daveware.com/linuxrapid.html">
      Xrapid</a> stock technical analysis.</li>

      <li><a href="http://sourceforge.net/project/?group_id=3522">
      Accountant</a> project at sourcforge aims to create a generic
      business library.</li>

      <li><a href="http://www.ios-online.de/Linux-Kontor/">
      Linux-Kontor</a> - an industrial accounting package that uses
      Java and SQL databases.</li>

      <li><a href="http://www.pango.org/">Pango</a>
      internationalized text rendering for gtk.</li>

      <li><a href="http://www.gnu.org/projects/gnue/gnue.html">Gnu
      Enterprise</a> a business financial project.</li>

      <li><a href=
      "http://members.iweb.net.au/~steveoc/ERP/index.html ">ERP</a>
      Business Accounting project</li>

      <li><a href="http://obelisk.dhs.org">Obelisk</a> Business
      Accounting project</li>

      <li><a href="http://www.didx.com/xml-builder.html">XML
      Builder</a> allows GUI screens to be described using XML
      markup. See also mozilla.org's xpfe ...</li>

      <li><a href="http://www.ofx.net/">Open Financial Exchange</a>
      a consortium backed by Intuit, CheckFree and Microsoft do
      advance on-line banking.</li>

      <li><a href="http://http://www.otp.org/">Open Trading
      Protocol</a>. An XML-based message protocol for payment,
      invoice presentation, and payment receipts.</li>

      <li><a href="http://www.semper.org/">Secure Electronic
      Marketplace for Europe</a>. SEMPER is a European R&amp;D
      project in the area of secure electronic commerce over open
      networks.</li>

      <li>HBCI 2.0: Homebanking Computer Interface</li>

      <li><a href=
      "http://ganges.cs.tcd.ie/mepeirce/Project/oninternet.html">
      Payment mechanisms designed for the Internet</a> provides a
      treasure-trove of links for zillions of standards and
      proposals.</li>

      <li><a href="http://www.sabotage.net/redhat/ssl.html">SSLeay
      RPM's</a></li>

      <li><a href="http://www.sabotage.net/security/ecash/lucre/">
      -lucre</a> a publicaly available version of e-cash.</li>

      <li><a href="http://www.openapplications.org/">Open
      Applications Group</a> is developing specs for accounting
      systems.</li>

      <li><a href=
      "http://www.compassgl.org/newhometest/990305fr1.html">OMG
      General Ledger (GL) Facility</a> The Compass submission for
      the OMG (CORBA) General Ledger.</li>

      <li><a href="http://www.xfrml.org/">XFRML, XML-based
      Financial Reporting Markup Language</a>. Quote from their
      site: <i>XFRML is a framework that will allow the financial
      community a standards-based method to prepare, publish in a
      variety of formats, exchange and analyze financial reports
      and the information they contain.</i></li>

      <li><a href="http://www.ibm.com/java/sanfrancisco">IBM San
      Francisco</a> Business and Financial Java classes.</li>

      <li><a href="http://www.integrion.com/">Integrion</a>, a
      16-bank + IBM consortium aimed at building up on-line banking
      infrastructure. Mostly aimed at mainframes, middleware, high
      transaction volumes and data integrity.<br>
      <br>
      </li>

      <li><a href="http://www.sun.com/980224/javapos/">Java Point
      of Sale</a> interfaces.</li>

      <li><a href="ftp.gnu.org:/pub/gnu/plotutils/">Gnu
      Plotutils</a> needed for building the graphing portions of
      the code.</li>

      <li><a href="http://www.im.lcs.mit.edu/~magnus/ml/">partly
      finished GTK grid widget</a> may be better than Clint,
      gtktable.</li>

      <li><a href="http://glade.pn.org/">Glade</a> an XML-based
      GTK+ User Interface Builder</li>

      <li><a href="www.php.net">PHP-3</a> for html-embedded
      perl-like language.</li>

      <li><a href="http://www.engelschall.com/sw/eperl">Embedded
      Perl</a></li>

      <li><a href="http://www.transaction.net/money/">How Money
      Works</a></li>

      <li><a href="http://www.penguincomputing.com/antarctic.html">
      Antarctic Project Server</a></li>

      <li><a href="http://www.im.lcs.mit.edu/~magnus/ml/">Maxwell's
      Lemur -- a GTK based table widget</a></li>

      <li><a href="http://www.ispras.ru/~knizhnik/gigabase.html">
      GigaBASE</a> embeddabale SQL database.</li>
    </ul>

    <h1>Historical References</h1>
    The following URL's are inactive, obsolete or otherwise wasting
    away, but are here for historical interest, in part to document
    the way things used to be. Of archeological, nostalgic use
    only. 

    <ul>
      <li><a href="http://www3.hmc.edu/~rclark/xacc/">X-Accountant
      Home Page</a></li>

      <li style="list-style: none">- this was the original site for
      the GPL'ed accounting package that eventually evolved into
      GnuCash. Robin Clark wrote the first version while at school
      at Harvey Mudd College.</li>

      <li>The original <a href=
      "http://www.dnaco.net/~bcooper/watermark/index.html">
      WaterMark</a> Gnome/KDE personal finance project page.
      Watermark and GnoMoney were proposed about the same time, and
      there was talk of joining forces with X-Accountant.</li>

      <li><a href="http://www.telly.org/freemoney/">FreeMoney</a>
      Linux small-business accounting s/w.</li>

      <li style="list-style: none">A proposal to build a business
      package back by SQL.</li>
    </ul>
    <hr>
    Draft version 0.37 -- May 2000 

    <p>Linas Vepstas <a href="mailto:linas@linas.org">
    linas@linas.org</a><br>
    </p>

    <p>updates by Christopher Browne <a href=
    "mailto:cbbrowne@ntlug.org">cbbrowne@ntlug.org</a><br>
    </p>
  </body>
</html>

